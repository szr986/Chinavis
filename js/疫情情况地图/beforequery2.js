// 使用说明：该页面为初始化疫情每日新增确诊病例数地图地图js文件
// 数据说明：该数据放于data/csv/ncov_data文件下面
// 编写人员：夏恩 

$(function() {
   
    // console.log($('input').prop("value"));
    var province = ["北京", "天津", "河北", "山西", "内蒙古", "辽宁", "吉林", "黑龙江", "上海", "江苏", "浙江", "安徽", "福建", "江西", "山东", "河南", "湖北", "湖南", "广东", "广西", "海南", "重庆", "四川", "贵州", "云南", "西藏", "陕西", "甘肃", "青海", "宁夏", "新疆", "台湾", "香港", "澳门"];
    var date = ["01-16", "01-17", "01-18", "01-19", "01-20", "01-21", "01-22", "01-23", "01-24", "01-25", "01-26", "01-27", "01-28", "01-29", "1-30", "01-31", "02-01", "02-02", "02-03", "02-04", "02-05", "02-06", "02-07", "02-08", "02-09", "02-10", "02-11", "02-12", "02-13", "02-14", "02-15", "02-16", "02-17", "02-18", "02-19", "02-20", "02-21", "02-22", "02-23", "02-24", "02-25", "02-26", "02-27", "02-28", "02-29", "03-01", "03-02", "03-03", "03-04", "03-05", "03-06", "03-07", "03-08", "03-09", "03-10", "03-11", "03-12", "03-13", "03-14", "03-15", "03-16", "03-17", "03-18", "03-19", "03-20", "03-21", "03-22", "03-23", "03-24", "03-25", "03-26", "03-27", "03-28", "03-29", "03-30", "03-31", "04-01", "04-02", "04-03", "04-04", "04-05", "04-06", "04-07", "04-08", "04-09", "04-10", "04-11", "04-12", "04-13", "04-14", "04-15", "04-16", "04-17", "04-18", "04-19", "04-20", "04-21", "04-22", "04-23", "04-24", "04-25", "04-26"];
    var data = ["新增疑似","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","新增疑似","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","新增疑似","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","新增疑似","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","新增疑似","0","0","0","0","0","0","0","0","7","0","10","1","0","0","0","0","0","0","4","0","1","0","1","1","1","0","0","0","0","1","0","0","0","0","新增疑似","0","0","0","0","0","0","0","0","10","0","10","2","0","0","0","0","0","0","1","1","0","0","2","0","0","0","0","0","0","0","0","0","0","0","新增疑似","0","0","0","1","0","0","0","0","16","0","26","6","1","5","5","0","159","10","7","3","0","13","5","0","0","0","0","0","0","0","0","0","0","0","新增疑似","0","14","0","22","2","0","0","2","34","0","14","14","4","12","9","42","417","20","10","0","0","53","6","0","1","0","0","0","0","1","3","0","0","0","新增疑似","0","27","0","9","4","0","0","12","81","0","0","26","6","27","14","54","704","25","30","13","0","55","25","0","4","0","0","0","1","1","0","0","0","0","新增疑似","0","40","7","14","0","18","3","9","52","0","0","18","25","21","12","114","712","34","45","21","0","106","26","2","29","0","0","0","0","0","1","0","0","0","新增疑似","0","48","11","34","4","37","1","40","65","0","68","36","49","50","33","112","2793","47","73","35","0","117","79","3","55","0","0","6","3","0","7","0","0","0","新增疑似","0","44","38","23","1","22","1","36","70","0","52","38","37","46","24","122","1191","53","47","49","21","31","78","0","51","0","0","0","0","0","2","0","0","0","新增疑似","0","45","45","21","3","40","1","45","70","0","105","43","45","60","39","232","1876","114","91","74","27","108","87","3","65","1","0","5","0","2","1","0","0","0","新增疑似","0","40","38","28","0","35","5","48","46","0","103","45","54","61","37","267","2493","202","78","102","18","152","106","6","90","0","67","6","1","0","20","0","0","0","新增疑似","0","77","51","23","1","45","3","76","91","0","102","71","58","106","54","280","2867","152","77","117","28","192","97","72","107","0","47","5","0","0","13","0","0","0","新增疑似","0","53","47","28","4","55","6","76","99","36","111","77","53","118","30","279","3097","223","43","116","30","185","81","27","90","0","47","1","1","0","6","0","0","0","新增疑似","0","57","60","26","5","48","10","78","103","34","109","82","39","100","42","254","2606","186","69","136","38","175","87","24","90","0","77","10","2","7","8","0","0","0","新增疑似","0","65","50","32","1","56","12","73","96","26","102","75","47","104","28","260","3260","183","86","128","50","178","103","18","85","0","36","3","0","4","12","0","0","0","新增疑似","65","85","41","21","0","42","17","93","84","39","173","57","32","92","33","248","3182","137","48","130","31","170","82","17","64","0","53","7","0","6","23","0","0","0","新增疑似","63","97","58","14","0","35","48","78","113","42","144","63","40","116","49","258","1957","142","34","155","41","175","106","12","55","0","41","10","0","6","19","0","0","0","新增疑似","65","97","60","20","4","42","37","109","102","48","155","84","22","72","37","273","3230","167","61","144","38","171","135","18","28","0","71","8","0","15","15","0","0","0","新增疑似","51","101","44","22","6","47","29","88","94","34","236","78","45","73","48","307","2622","122","71","142","53","177","157","38","50","0","70","6","0","6","16","0","0","0","新增疑似","83","132","36","28","4","86","13","117","120","28","112","70","38","69","47","261","2073","113","65","123","79","162","160","24","63","0","92","8","0","4","4","0","0","0","新增疑似","64","123","26","30","3","73","19","104","99","24","77","48","22","52","40","246","2067","107","62","113","68","156","113","38","37","0","73","6","0","6","20","0","0","0","新增疑似","94","120","9","18","3","81","15","65","118","25","83","61","24","57","26","223","2272","88","33","81","50","167","141","11","38","0","88","2","0","6","9","0","0","0","新增疑似","86","129","15","27","2","102","24","77","88","19","63","33","19","55","28","252","1814","93","36","114","58","164","116","10","30","0","71","8","0","2","1","0","0","0","新增疑似","86","150","20","23","1","82","24","43","124","22","49","39","19","37","34","225","1685","94","39","106","66","154","123","21","28","0","35","6","0","5","2","0","0","0","新增疑似","61","152","11","24","3","86","12","56","95","17","28","38","16","25","21","192","1377","60","29","81","60","148","94","17","45","0","53","3","0","3","0","0","0","0","新增疑似","54","172","12","24","1","66","10","35","81","14","22","16","23","43","37","207","1154","53","8","79","32","138","77","16","29","0","37","0","0","5","5","0","0","0","新增疑似","51","128","8","12","7","66","8","48","87","3","23","13","6","21","27","153","1216","50","9","44","36","98","72","4","39","0","37","4","0","3","4","0","0","0","新增疑似","35","109","2","15","4","69","16","44","75","9","23","6","2","7","22","137","1036","36","2","49","30","75","46","8","37","0","15","1","0","5","3","0","0","0","新增疑似","33","88","2","5","3","45","9","27","67","3","13","9","3","2","21","112","909","14","1","26","27","63","40","2","22","0","15","0","0","0","2","0","0","0","新增疑似","49","83","1","6","0","64","14","32","65","4","15","7","2","0","17","102","788","15","0","21","22","50","28","2","18","0","22","0","0","4","1","0","0","0","新增疑似","58","62","0","3","3","64","11","21","78","0","9","0","4","0","8","121","596","12","1","12","14","41","30","2","16","0","19","0","0","0","0","0","0","0","新增疑似","25","57","0","1","0","26","9","4","56","1","6","0","0","0","10","66","880","5","1","17","16","45","21","2","21","0","8","0","0","0","0","0","0","0","新增疑似","41","37","0","5","0","20","4","1","62","1","4","1","0","0","14","31","1279","5","1","15","16","28","15","3","21","0","8","1","0","1","0","0","0","0","新增疑似","26","31","0","2","0","14","7","0","48","0","4","0","0","0","3","25","1125","2","1","6","11","15","21","2","14","0","3","0","0","1","0","0","0","0","新增疑似","35","51","0","1","0","13","7","0","52","0","2","0","0","0","2","12","631","0","0","12","14","21","15","0","11","0","2","0","0","1","0","0","0","0","新增疑似","30","22","0","4","0","15","7","0","36","0","5","0","1","0","1","9","450","1","0","4","10","8","8","2","7","0","0","0","0","0","0","0","0","0","新增疑似","18","38","0","0","0","9","14","0","30","0","1","0","0","0","0","5","373","1","0","3","9","13","7","0","9","0","0","0","0","0","0","0","0","0","新增疑似","21","14","0","1","0","6","2","0","46","0","2","0","0","0","1","1","311","1","0","2","6","9","7","0","7","0","0","0","0","2","0","0","0","0","新增疑似","10","20","0","1","0","14","2","0","33","0","0","0","0","0","0","2","403","0","0","0","4","11","4","1","3","0","0","0","0","0","0","0","0","0","新增疑似","12","24","0","0","0","22","3","0","36","0","0","0","0","0","0","1","332","0","2","0","5","6","4","1","4","0","0","0","0","0","0","0","0","0","新增疑似","9","14","0","0","0","15","3","0","28","0","0","0","0","1","0","0","159","1","0","0","5","7","2","1","3","0","0","0","0","0","0","0","0","0","新增疑似","18","11","0","0","0","11","6","0","10","0","0","0","0","0","0","0","64","0","1","0","3","6","1","0","0","0","0","0","0","1","0","0","0","0","新增疑似","12","9","0","0","0","16","2","0","11","0","4","0","0","0","0","0","80","0","0","0","1","1","2","0","3","0","0","0","0","0","0","0","0","0","新增疑似","14","17","0","0","0","18","2","0","9","0","0","0","0","1","0","0","64","0","0","0","0","2","0","1","1","0","0","0","0","0","0","0","0","0","新增疑似","11","17","0","0","0","36","0","2","19","0","2","0","0","0","0","0","52","0","0","0","0","1","1","0","2","0","0","0","0","0","0","0","0","0","新增疑似","10","11","0","0","0","32","0","0","17","0","1","0","0","0","0","0","67","0","0","0","1","2","0","0","2","0","0","0","0","0","0","0","0","0","新增疑似","3","9","0","0","0","13","3","0","22","0","1","0","0","0","0","0","43","0","0","0","0","2","2","2","2","0","0","0","0","0","0","0","0","0","新增疑似","13","12","0","0","0","4","3","0","16","0","0","0","0","0","0","0","47","0","0","0","0","4","0","0","0","0","0","0","0","0","0","0","0","0","新增疑似","3","9","0","0","0","3","0","0","25","0","0","0","0","0","0","0","42","0","0","0","0","0","1","0","1","0","0","0","0","0","0","0","0","0","新增疑似","8","10","0","0","0","2","1","1","10","0","0","0","0","0","0","0","28","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","新增疑似","9","1","0","0","0","0","0","0","12","0","0","0","0","0","0","0","13","0","0","0","0","0","0","1","0","0","0","0","0","0","0","0","0","0","新增疑似","2","2","0","0","0","1","0","0","18","0","0","0","0","0","0","0","6","0","1","0","0","0","0","0","1","0","0","0","0","0","0","0","0","0","新增疑似","5","4","0","0","0","0","0","0","19","0","0","0","0","0","0","0","2","0","1","0","1","0","0","0","1","0","0","0","0","0","0","0","0","0","新增疑似","9","0","0","0","0","0","0","0","23","0","0","0","0","0","0","0","1","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","新增疑似","5","1","0","0","0","0","0","0","11","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","新增疑似","9","1","0","0","0","0","0","0","24","1","2","0","0","0","0","0","1","0","1","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","新增疑似","7","4","0","0","0","0","0","0","28","0","0","0","0","0","0","0","2","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","新增疑似","7","0","0","0","0","0","0","0","37","0","0","0","0","0","0","0","0","0","0","0","1","0","0","0","0","0","0","0","0","0","0","0","0","0","新增疑似","15","0","0","0","0","0","0","0","5","0","1","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","新增疑似","7","2","0","0","0","0","0","0","11","0","1","0","0","0","1","0","0","0","1","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","新增疑似","6","1","0","0","0","0","0","0","24","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","新增疑似","6","8","0","0","0","0","0","0","22","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","新增疑似","8","12","0","5","0","0","0","0","13","0","0","0","7","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","新增疑似","15","10","0","0","0","0","0","0","18","1","1","0","2","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","新增疑似","5","11","0","0","0","0","0","0","15","0","0","0","4","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","新增疑似","3","14","0","0","2","0","0","0","13","0","1","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","新增疑似","4","25","0","0","4","0","0","0","23","0","0","0","1","0","0","0","0","0","0","0","0","0","0","0","0","0","1","0","0","0","0","0","0","0","新增疑似","3","20","0","0","6","0","0","0","17","1","0","0","2","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","新增疑似","1","16","0","0","2","0","0","0","9","0","1","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","新增疑似","0","9","0","0","5","0","0","0","12","0","0","0","1","0","0","0","0","0","0","0","0","0","0","0","0","0","0","1","0","0","0","0","0","0","新增疑似","1","6","0","0","0","0","0","0","10","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","新增疑似","0","21","0","0","9","0","0","0","14","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","新增疑似","1","14","0","0","0","0","0","0","11","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","新增疑似","5","5","0","0","0","0","0","0","8","0","0","0","2","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","新增疑似","1","0","0","0","1","0","0","0","9","0","0","0","1","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","新增疑似","0","0","0","0","0","0","0","0","11","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","新增疑似","0","0","0","0","1","0","0","0","10","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","新增疑似","0","0","0","0","6","0","0","0","4","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","新增疑似","1","0","0","0","0","0","0","0","11","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","新增疑似","0","0","0","3","5","0","0","0","3","0","0","0","0","0","0","0","0","0","1","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","新增疑似","0","0","0","1","9","0","0","1","6","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","新增疑似","0","0","0","0","2","0","0","0","1","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","新增疑似","0","0","0","0","0","0","0","5","2","1","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","新增疑似","0","0","0","0","2","0","1","3","43","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","新增疑似","0","0","0","0","0","0","0","4","2","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","新增疑似","0","0","0","0","1","0","0","0","2","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","新增疑似","0","0","0","0","0","2","0","5","4","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","新增疑似","1","0","0","0","0","0","0","0","3","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","新增疑似","0","0","0","0","1","0","0","2","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","新增疑似","0","0","0","0","0","0","0","2","3","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","新增疑似","0","0","0","0","1","0","0","0","1","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","新增疑似","0","0","0","0","0","0","0","0","2","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","新增疑似","0","0","0","0","0","0","0","1","2","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","新增疑似","0","0","0","0","0","0","0","0","3","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","新增疑似","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","新增疑似","0","0","0","0","0","0","0","0","2","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","新增疑似","1","0","0","0","0","0","0","0","2","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","新增疑似","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","新增疑似","1","0","0","0","0","0","0","0","4","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"]
;
    data_dict = {}
    n = 0;
    for (var i = 0; i < data.length; i = i + 35) {
        middle = [];
        for (var j = 0; j < 35; j++) {
            middle.push(data[i + j])
        }
        data_dict[date[n]] = middle;
        n++;
    }


    //console.log(data_dict);

        var colors = [
            "#1DE9B6", "#F46E36", "#04B9FF", "#5DBD32", "#FFC809", "#FB95D5", "#BDA29A", "#6E7074", "#546570", "#C4CCD3",
            "#37A2DA", "#67E0E3", "#32C5E9", "#9FE6B8", "#FFDB5C", "#FF9F7F", "#FB7293", "#E062AE", "#E690D1", "#E7BCF3", "#9D96F5", "#8378EA", "#8378EA",
            "#DD6B66", "#759AA0", "#E69D87", "#8DC1A9", "#EA7E53", "#EEDD78", "#73A373", "#73B9BC", "#7289AB", "#91CA8C", "#F49F42",
        ];
      
        //console.log($('input').prop("value"));
        // console.log(data_dict[$('input').prop("value")]);
        // first日期匹配
        var str = $('.first').prop("value");
        console.log(str.substring(str.indexOf('-') + 1, str.length))
        // second日期匹配
        var str2 = $('.second').prop("value");
        console.log(str2);
        console.log(str2.substring(str.indexOf('-') + 1, str2.length))
        // 区域内的date数据
        between_date=new Array();
        for(var i=0;i<date.length;i++){
            if(date[i]===str.substring(str.indexOf('-') + 1, str.length)){
                var a=i;
            }
            if(date[i]===str2.substring(str.indexOf('-') + 1, str2.length)){
                var b=i;
            }
            between_date=date.slice(a,b+1);
        }
        console.log(between_date);
        
        // 设置颜色
        // var str1=str.substring(str.indexOf('-') + 1, str.length);
        // console.log(str1);
        var colorIndex = new Array;
        for (var i = 0; i < between_date.length; i++) {
            colorIndex[i] = between_date[i].charAt(between_date[i].length - 1);
        }
        // var colorIndex=str1.charAt(str1.length-1);
        console.log(colorIndex);

        // 日期内的数据
        // console.log(str.substring(str.indexOf('-') + 1, str.length));
        // var disease_data_before = data_dict[str.substring(str.indexOf('-') + 1, str.length)];
        var disease_data_before=new Array();
        for(var i=0;i<between_date.length;i++){
           disease_data_before[i]=new Array();
            for(var j=0;j<35;j++){
                disease_data_before[i]=data_dict[between_date[i]];
                
            }
            // console.log(data_dict[between_date[i]]);

        }
        console.log(disease_data_before);

        var disease_data = new Array();
        for (var i = 0; i < disease_data_before.length; i++) {
            disease_data [i]=new Array();
            for(var j=0;j<35;j++){
                disease_data[i].push(disease_data_before[i][j+1]);
            }
        }
        console.log(disease_data);

         //实例化对象
         var myChart = echarts.init(document.querySelector(".yiqingmap .chart"));
         var option = {
             
             baseOption: {
 
                 timeline: {
                     show: true,
                     axisType: 'category',
                     // realtime: false,
                     // loop: false,
                     autoPlay: true,
                     playInterval: 2000,
                     symbolSize: 12,
                     left: '1%',
                     // right: '5%',
                     bottom: '14%',
                     width: '90%',
                     // controlStyle: {
                     //     position: 'left'
                     // },
                     label:{
                         normal:{
                             color:'gray'
                         }
                     },
                     data: between_date,
                     tooltip: {
                         formatter: between_date
                     },
                 },
 
                 tooltip: {
                     show: true,
                     formatter: function(params) {
                         return params.name + '：' + params['value']
                     },
                 },
                 visualMap: {
                     type: 'piecewise',
                     pieces: [{
                             min: 1002,
                             color: '#73240D'
                         },
                         {
                             min: 501,
                             max: 1001,
                             color: '#BB0000'
                         },
                         {
                             min: 251,
                             max: 500,
                             color: '#BD430A'
                         },
                         {
                             min: 101,
                             max: 250,
                             color: '#E08150'
                         },
                         {
                             min: 11,
                             max: 100,
                             color: '#E9B090'
                         },
                         {
                             min: 1,
                             max: 10,
                             color: '#F2DDD2'
                         },
                         {
                             value: 0,
                             color: 'white'
                         }
                     ],
                     orient: 'vertical',
                     itemWidth: 15,
                     itemHeight: 9,
                     showLabel: true,
                     seriesIndex: [0],
 
                     textStyle: {
                         color: '#7B93A7'
                     },
                     bottom: '24%',
                     left: "6%",
                 },
                 grid: {
                     right: '9%',
                     top: '8%',
                     bottom: '10%',
                     width: '20%',
                     height:'70%'
                 },
                 xAxis: {
                     min: 0,
                     max: 4000,
                     show: false
                 },
                 yAxis: [{
                     inverse: true,
                     offset: '2',
                     'type': 'category',
                     data: '',
                     nameTextStyle: {
                         color: '#fff'
                     },
                     axisTick: {
                         show: false,
                     },
                     axisLabel: {
                         //rotate:45,
                         textStyle: {
                             fontSize: 14,
                             color: '#000000',
                         },
                         interval: 0
                     },
                     axisLine: {
                         show: false,
                         lineStyle: {
                             color: '#333'
                         },
                     },
 
                     splitLine: {
                         show: false,
                         lineStyle: {
                             color: '#333'
                         }
                     },
                 }],
                 // backgroundColor: "#fcfcfc",
                 geo: {
                     map: 'china',
                     top:'8%',
                     right: '35%',
                     left: '3%',
                     label: {
                         emphasis: {
                             show: false,
                         }
                     },
                     itemStyle: {
                         emphasis: {
                             areaColor: 'b0c4de'
                         }
                     }
                 },
                 series: [{
                         name: 'mapSer',
                         type: 'map',
                         map: 'china',
                         roam: false,
                         geoIndex: 0,
                         label: {
                             show: false,
                         },
                     },
                     {
                         'name': '',
                         'type': 'bar',
                         zlevel: 2,
                         barWidth: '40%',
                         label: {
                             normal: {
                                 show: true,
                                 fontSize: 14,
                                 position: 'right',
                                 formatter: '{c}'
                             }
                         },
                     }
                 ],
 
             },
             // animationDurationUpdate: 3000,
             //animationEasingUpdate: 'quinticInOut',
             options: []
         };
         for (var n = 0; n < between_date.length; n++) {
 
             var res = [];
             for (j = 0; j < 34; j++) {
                 res.push({
                     name: province[j],
                     value: disease_data[n][j]
                 })
             }
             res.sort(function(a, b) {
                 return b.value - a.value;
             }).slice(0, 6);
 
             res.sort(function(a, b) {
                 return a.value - b.value;
             });
             var res1 = [];
             var res2 = [];
             for (t = 0; t < 10; t++) {
                 res1[t] = res[res.length - 1 - t].name;
                 res2[t] = res[res.length - 1 - t].value;
             }
             // for (i = 0; i < res2.length; i++) {
             //     res2[i] = res2[i] * 18;
             // }
           // console.log(res1[0]);
 
             //console.log(res2[0]);
           
             option.options.push({
                 title: [{
                     show: true,
                     text: '新增疑似病例数前十的省份',
                     textStyle: {
                         color: 'rgb(190, 184, 184)',
                         fontSize: 18
                     },
                     right: '7%',
                     top: '4%'
                 }],
                 yAxis: {
                     data: res1,
                 
                 },
                 series: [{
                     type: 'map',
                   
                     data: res
                 }, {
                     type: 'bar',
                     barHight: 18,
                     
                     data: res2,
                     itemStyle: {
                       
                         normal: {
                            
                             color: colors[colorIndex[Math.floor((Math.random() * colorIndex.length))]]
                
                                 
                                
                         }
                     },
                 }]
             });
         }
         myChart.setOption(option);
 
     })
 